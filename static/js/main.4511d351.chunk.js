(this.webpackJsonpcode_id=this.webpackJsonpcode_id||[]).push([[0],{158:function(t,e,a){},159:function(t,e,a){},218:function(t,e,a){"use strict";a.r(e);var n=a(3),c=a(0),o=a.n(c),i=a(25),s=a.n(i),r=(a(158),a(149)),l=a(7),d=(a(159),a(63)),h=a(30),u=a(142),j=a(143),b=a(26),m=a(152),p=a(151),f=a(45),O=a.n(f),g=a(222),v=a(223),x=a(146),C=a(224),N=a(221),w=a(150),y=a(34),k=Object(y.b)({name:"counter",initialState:{contactList:[]},reducers:{addContact:function(t,e){t.contactList=e.payload}}}),S=k.actions.addContact,L=k.reducer,F=a(64),A=a(46),W=a(47);var B=function(t){Object(m.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).state={isLoading:!0,list:[],show:!1,modalForm:null,isFormValid:!1,contact:{firstName:null,lastName:null,age:null,photo:""},editId:null},n.handleClose=n.handleClose.bind(Object(b.a)(n)),n.handleOpen=n.handleOpen.bind(Object(b.a)(n)),n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.addContact=n.addContact.bind(Object(b.a)(n)),n.deleteContact=n.deleteContact.bind(Object(b.a)(n)),n.editContact=n.editContact.bind(Object(b.a)(n)),n}return Object(j.a)(a,[{key:"handleClose",value:function(){this.setState((function(t){return{contact:Object(h.a)(Object(h.a)({},t.contact),{},{age:null,firstName:null,lastName:null,photo:""}),editId:null,show:!1,modalForm:null}}))}},{key:"handleOpen",value:function(t,e){if(e=e||null,this.setState({show:!0}),"create"===t)this.setState({modalForm:"create"});else if("edit"===t){this.setState({modalForm:"edit"});var a=function(t,e){for(var a=0;a<e.length;a++)if(e[a].id===t)return e[a]}(e,this.state.list),n=a.photo;"N/A"===a.photo&&(n=""),this.setState((function(t){return{contact:Object(h.a)(Object(h.a)({},t.contact),{},{age:a.age,firstName:a.firstName,lastName:a.lastName,photo:n}),editId:e}}))}else console.log("Something Wrong")}},{key:"handleChange",value:function(t){var e=t.target.value,a=t.target.name;this.setState((function(t){return{contact:Object(h.a)(Object(h.a)({},t.contact),{},Object(d.a)({},a,e))}}))}},{key:"validateForm",value:function(){var t=this.state.contact;return null==t.firstName||t.firstName.length<=3||null==t.lastName||t.lastName.length<=3||null==t.age||t.age<0?(this.setState({isFormValid:!1}),!1):(this.setState({isFormValid:!0}),!0)}},{key:"addContact",value:function(t){var e=this.state.contact;""===this.state.contact.photo&&(e={firstName:this.state.contact.firstName,lastName:this.state.contact.lastName,age:this.state.contact.age}),console.log(this.validateForm()),this.validateForm()?O.a.post("https://simple-contact-crud.herokuapp.com/contact",e).then((function(t){console.log(t)})).catch((function(e){t.preventDefault(),console.log(e)})):(t.preventDefault(),console.log("Something Wrong"))}},{key:"editContact",value:function(t){var e=this.state.contact;""===this.state.contact.photo&&(e={firstName:this.state.contact.firstName,lastName:this.state.contact.lastName,age:this.state.contact.age}),this.validateForm()?O.a.put("https://simple-contact-crud.herokuapp.com/contact/".concat(this.state.editId),e).then((function(t){console.log(t)})).catch((function(e){console.log(e),t.preventDefault()})):(t.preventDefault(),console.log("Something Wrong"))}},{key:"deleteContact",value:function(t){O.a.delete("https://simple-contact-crud.herokuapp.com/contact/".concat(t)).then((function(t){window.location.reload()}))}},{key:"componentDidMount",value:function(){var t=this;console.log(this.state.isLoading),O.a.get("https://simple-contact-crud.herokuapp.com/contact").then((function(e){t.setState({isLoading:!1,list:e.data.data,show:!1}),t.props.addContact(e.data.data)}))}},{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"mt-5",children:[Object(n.jsx)("h4",{children:"Contact List"}),Object(n.jsx)("p",{children:"Save your contact for free"}),Object(n.jsxs)(g.a,{show:this.state.show,onHide:this.handleClose,keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(g.a.Header,{closeButton:!0,children:Object(n.jsxs)(g.a.Title,{children:["create"===this.state.modalForm?"Add new ":"Update"," ","contact"]})}),Object(n.jsx)(g.a.Body,{children:Object(n.jsxs)(v.a,{onSubmit:"create"===this.state.modalForm?this.addContact:this.editContact,children:[Object(n.jsxs)(v.a.Row,{children:[Object(n.jsxs)(v.a.Group,{as:x.a,md:"5",children:[Object(n.jsx)(v.a.Label,{children:"First name"}),Object(n.jsx)(v.a.Control,{value:this.state.contact.firstName,type:"text",name:"firstName",placeholder:"Enter first name",onChange:this.handleChange}),Object(n.jsx)(v.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Minimum 3 character"})]}),Object(n.jsxs)(v.a.Group,{as:x.a,md:"5",children:[Object(n.jsx)(v.a.Label,{children:"Last name"}),Object(n.jsx)(v.a.Control,{value:this.state.contact.lastName,onChange:this.handleChange,name:"lastName",type:"text",placeholder:"Enter last name"}),Object(n.jsx)(v.a.Text,{id:"passwordHelpBlock",muted:!0,children:"Minimum 3 character"})]}),Object(n.jsxs)(v.a.Group,{as:x.a,md:"2",children:[Object(n.jsx)(v.a.Label,{children:"Age"}),Object(n.jsx)(v.a.Control,{value:this.state.contact.age,onChange:this.handleChange,name:"age",type:"number",placeholder:"Age",min:1})]})]}),Object(n.jsxs)(v.a.Group,{children:[Object(n.jsx)(v.a.Label,{children:"Photo url (Optional)"}),Object(n.jsx)(v.a.Control,{value:this.state.contact.photo,onChange:this.handleChange,name:"photo",type:"text",placeholder:"Enter photo url"})]}),Object(n.jsx)(C.a,{variant:"light",type:"submit",className:"float-right save-color",disabled:this.state.isFormValid?"true":"false",children:"create"===this.state.modalForm?"Save ":"Edit"})]})})]}),Object(n.jsxs)(C.a,{variant:"outline-primary",className:"btn-add-contact",onClick:function(){return t.handleOpen("create")},children:[Object(n.jsx)(A.a,{icon:W.b})," Add Contact"]}),Object(n.jsxs)(N.a,{borderless:!0,hover:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"Age"}),Object(n.jsx)("th",{children:"Action"})]})}),Object(n.jsx)("tbody",{children:this.state.isLoading?Object(n.jsx)("tr",{children:Object(n.jsx)("td",{colSpan:4,children:Object(n.jsx)("center",{children:Object(n.jsx)(A.a,{icon:W.c,spin:!0,size:"3x"})})})}):this.state.list.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"photo-td",children:Object(n.jsx)(w.a,{size:"35",name:e.firstName,src:e.photo,round:!0})}),Object(n.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(n.jsx)("td",{children:e.age}),Object(n.jsxs)("td",{children:[Object(n.jsx)(C.a,{variant:"light",className:"btn-add-contact",onClick:function(){return t.handleOpen("edit",e.id)},children:Object(n.jsx)(A.a,{icon:W.a})}),Object(n.jsx)(C.a,{style:{marginLeft:"10px"},onClick:function(){return t.deleteContact(e.id)},variant:"light",className:"btn-add-contact",children:Object(n.jsx)(A.a,{icon:W.d})})]})]},e.id)}))})]})]})}}]),a}(c.Component),E={addContact:S},D=Object(F.b)((function(t){return{contactList:t.contactList}}),E)(B);function I(){return Object(n.jsx)("h2",{children:"About"})}function T(){return Object(n.jsx)("h2",{children:"Users"})}var U=function(){return Object(n.jsx)(r.a,{children:Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/create-contact",children:Object(n.jsx)(I,{})}),Object(n.jsx)(l.a,{path:"/users",children:Object(n.jsx)(T,{})}),Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(D,{})})]})})})},G=Object(y.b)({name:"counter",initialState:{value:0},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}}}),H=G.actions,M=(H.increment,H.decrement,H.incrementByAmount,G.reducer),R=Object(y.a)({reducer:{counter:M,contact:L}}),V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var a=t.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}a(217);s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(F.a,{store:R,children:Object(n.jsx)(U,{})})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/contact-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/contact-app","/service-worker.js");V?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):z(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(e,t)}))}}()}},[[218,1,2]]]);
//# sourceMappingURL=main.4511d351.chunk.js.map